(ns clo-go.scoring-system-test
  (:require [midje.sweet :refer :all]
            [clo-go.scoring-system :refer :all]
            [clo-go.board :refer :all]))

(fact "coloring is fun"
   (color-field (board) :white 0 0) => [["O" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]]
   
   (color-field (board) :black 0 0) => [["X" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                        ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]]
   
   (color-field (board) :no-mans-land 0 0) => [["M" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                               ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]]
   
   
   (coloring [["-" "-" "-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
              ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]] :white 0 0) => [["O" "O" "O" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["O" "O" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["O" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["O" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                             ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]]
   )

(fact "Search color for coloring" 
      (search-color [["-" "-" "-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]] 0 0) => :white
      
      (search-color [["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]] 2 3) => :white
  
      (search-color [["-" "-" "-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["x" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                     ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]] 0 0) => :no-mans-land)

(fact "Automatic coloring is fun, if it works as it supposed to"
      (search-and-color [["-" "-" "-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]] 0 0) => [["O" "O" "O" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["O" "O" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["O" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["O" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]]
      
      (search-and-color [["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]] 2 3) => [["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "o" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "o" "O" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]]
  
      (search-and-color [["-" "-" "-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["x" "-" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                         ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]] 0 0) => [["M" "M" "M" "M" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["x" "M" "o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["M" "M" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["M" "M" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["o" "o" "o" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"] 
                                                                                                                 ["-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-" "-"]])
(fact "when calculating score, there shoudn't be any empty fields"
      (calculate-territory [["x" "-" "x" "-" "x" "-" "o" "o" "-" "o" "-" "o" "x" "o" "-" "-" "-" "x" "-"] 
                            ["-" "o" "o" "o" "o" "-" "x" "-" "o" "x" "x" "o" "x" "x" "x" "x" "-" "-" "o"] 
                            ["-" "-" "-" "o" "x" "-" "o" "x" "o" "x" "x" "-" "o" "x" "-" "o" "-" "o" "-"] 
                            ["o" "-" "-" "-" "x" "-" "x" "x" "-" "-" "x" "-" "-" "o" "x" "o" "o" "x" "-"] 
                            ["x" "o" "-" "-" "-" "x" "o" "-" "o" "-" "o" "x" "-" "x" "o" "o" "o" "x" "o"] 
                            ["-" "-" "x" "-" "x" "-" "x" "-" "o" "o" "o" "o" "x" "-" "o" "o" "o" "o" "o"] 
                            ["-" "-" "-" "x" "-" "-" "x" "o" "-" "-" "x" "o" "x" "x" "o" "x" "x" "x" "o"] 
                            ["o" "o" "o" "x" "o" "o" "x" "x" "x" "-" "-" "o" "-" "-" "-" "o" "x" "x" "x"] 
                            ["x" "-" "-" "x" "x" "x" "x" "-" "-" "o" "o" "x" "x" "-" "o" "x" "-" "o" "x"] 
                            ["x" "o" "o" "-" "x" "-" "-" "-" "o" "x" "x" "-" "o" "-" "x" "-" "-" "-" "x"] 
                            ["-" "-" "-" "o" "x" "x" "-" "x" "-" "x" "-" "x" "x" "-" "-" "x" "x" "x" "-"] 
                            ["-" "x" "-" "o" "x" "o" "x" "x" "o" "o" "x" "-" "-" "x" "x" "-" "x" "x" "o"] 
                            ["o" "x" "o" "-" "x" "-" "o" "o" "-" "o" "-" "x" "o" "x" "x" "x" "o" "o" "o"] 
                            ["o" "o" "-" "-" "-" "o" "o" "o" "o" "-" "o" "-" "x" "o" "-" "x" "o" "-" "x"] 
                            ["-" "-" "x" "-" "o" "o" "-" "o" "-" "-" "-" "o" "x" "o" "o" "-" "x" "o" "o"] 
                            ["-" "o" "x" "o" "o" "o" "x" "-" "o" "o" "o" "x" "x" "x" "x" "-" "-" "o" "x"] 
                            ["o" "-" "x" "-" "x" "o" "-" "o" "-" "o" "o" "o" "-" "x" "o" "-" "-" "o" "-"] 
                            ["-" "x" "-" "x" "x" "-" "o" "o" "x" "x" "-" "o" "x" "x" "o" "-" "x" "o" "o"] 
                            ["o" "-" "x" "-" "o" "x" "-" "-" "-" "-" "-" "o" "-" "x" "-" "o" "o" "o" "o"]]) => [["x" "M" "x" "M" "x" "M" "o" "o" "O" "o" "M" "o" "x" "o" "M" "M" "M" "x" "M"] 
                                                                                                                ["M" "o" "o" "o" "o" "M" "x" "M" "o" "x" "x" "o" "x" "x" "x" "x" "M" "M" "o"] 
                                                                                                                ["M" "M" "M" "o" "x" "M" "o" "x" "o" "x" "x" "M" "o" "x" "M" "o" "M" "o" "M"] 
                                                                                                                ["o" "M" "M" "M" "x" "M" "x" "x" "M" "M" "x" "M" "M" "o" "x" "o" "o" "x" "M"] 
                                                                                                                ["x" "o" "M" "M" "M" "x" "o" "M" "o" "M" "o" "x" "M" "x" "o" "o" "o" "x" "o"] 
                                                                                                                ["M" "M" "x" "M" "x" "M" "x" "M" "o" "o" "o" "o" "x" "M" "o" "o" "o" "o" "o"] 
                                                                                                                ["M" "M" "M" "x" "M" "M" "x" "o" "M" "M" "x" "o" "x" "x" "o" "x" "x" "x" "o"] 
                                                                                                                ["o" "o" "o" "x" "o" "o" "x" "x" "x" "M" "M" "o" "M" "M" "M" "o" "x" "x" "x"] 
                                                                                                                ["x" "M" "M" "x" "x" "x" "x" "M" "M" "o" "o" "x" "x" "M" "o" "x" "M" "o" "x"] 
                                                                                                                ["x" "o" "o" "M" "x" "M" "M" "M" "o" "x" "x" "M" "o" "M" "x" "M" "M" "M" "x"] 
                                                                                                                ["M" "M" "M" "o" "x" "x" "M" "x" "M" "x" "X" "x" "x" "M" "M" "x" "x" "x" "M"] 
                                                                                                                ["M" "x" "M" "o" "x" "o" "x" "x" "o" "o" "x" "M" "M" "x" "x" "X" "x" "x" "o"] 
                                                                                                                ["o" "x" "o" "M" "x" "M" "o" "o" "O" "o" "M" "x" "o" "x" "x" "x" "o" "o" "o"] 
                                                                                                                ["o" "o" "M" "M" "M" "o" "o" "o" "o" "O" "o" "M" "x" "o" "M" "x" "o" "M" "x"] 
                                                                                                                ["M" "M" "x" "M" "o" "o" "M" "o" "O" "O" "O" "o" "x" "o" "o" "M" "x" "o" "o"] 
                                                                                                                ["M" "o" "x" "o" "o" "o" "x" "M" "o" "o" "o" "x" "x" "x" "x" "M" "M" "o" "x"] 
                                                                                                                ["o" "M" "x" "M" "x" "o" "M" "o" "M" "o" "o" "o" "M" "x" "o" "M" "M" "o" "M"] 
                                                                                                                ["M" "x" "X" "x" "x" "M" "o" "o" "x" "x" "M" "o" "x" "x" "o" "M" "x" "o" "o"] 
                                                                                                                ["o" "M" "x" "M" "o" "x" "M" "M" "M" "M" "M" "o" "M" "x" "M" "o" "o" "o" "o"]])


